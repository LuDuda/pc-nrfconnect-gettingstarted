{
    "type": "Recipe",
    "title": "Installing the toolchain",
    "tool": "darwin_deps-0.9.3",
    "platforms": { "platform": "darwin" },
    "description": [
        "To install the software components required to build the Zephyr kernel on a Mac, you will need to build a cross compiler for the target devices you wish to build for and install tools that the build system requires.",
        "[Zephyr Getting Started for macOS](https://docs.zephyrproject.org/latest/getting_started/installation_mac.html#installing-requirements-and-dependencies) have more descriptions for how to get all the needed tools."
    ],
    "checkables": [
        {
            "type": "Checkable",
            "steps": [
                {
                    "type": "Step",
                    "platforms": { "platform": "darwin" },
                    "title": "Install Homebrew",
                    "description": [
                        "First, install *Homebrew* by following instructions on the [Homebrew site](https://brew.sh/).",
                        "Homebrew is a free and open-source package management system that simplifies the installation of software on macOS. While installing Homebrew, you may be prompted to install additional missing dependencies; please follow any such instructions as well."
                    ]
                }
            ],
            "checkers": [
                {
                    "type": "Checker",
                    "checkerType": "command",
                    "commands": "brew --version"
                }
            ]
        },
        {
            "type": "Checkable",
            "steps": [
                {
                    "type": "Step",
                    "title": "Install cmake",
                    "description": [
                        "Install `cmake` by entering the following command:",
                        {
                            "type": "commands",
                            "description": [
                                "brew installl cmake"
                            ]
                        }
                    ]
                }
            ],
            "checkers": [
                {
                    "type": "Checker",
                    "checkerType": "command",
                    "commands": "brew list cmake"
                }
            ]
        },
        {
            "type": "Checkable",
            "steps": [
                {
                    "type": "Step",
                    "title": "Install ninja",
                    "description": [
                        "Install `ninja` by entering the following command:",
                        {
                            "type": "commands",
                            "description": [
                                "brew installl ninja"
                            ]
                        }
                    ]
                }
            ],
            "checkers": [
                {
                    "type": "Checker",
                    "checkerType": "command",
                    "commands": "brew list ninja"
                }
            ]
        },
        {
            "type": "Checkable",
            "steps": [
                {
                    "type": "Step",
                    "title": "Install gperf",
                    "description": [
                        "Install `gperf` by entering the following command:",
                        {
                            "type": "commands",
                            "description": [
                                "brew installl gperf"
                            ]
                        }
                    ]
                }
            ],
            "checkers": [
                {
                    "type": "Checker",
                    "checkerType": "command",
                    "commands": "brew list gperf"
                }
            ]
        },
        {
            "type": "Checkable",
            "steps": [
                {
                    "type": "Step",
                    "title": "Install ccache",
                    "description": [
                        "Install `ccache` by entering the following command:",
                        {
                            "type": "commands",
                            "description": [
                                "brew installl ccache"
                            ]
                        }
                    ]
                }
            ],
            "checkers": [
                {
                    "type": "Checker",
                    "checkerType": "command",
                    "commands": "brew list ccache"
                }
            ]
        },
        {
            "type": "Checkable",
            "steps": [
                {
                    "type": "Step",
                    "title": "Install dfu-util",
                    "description": [
                        "Install `dfu-util` by entering the following command:",
                        {
                            "type": "commands",
                            "description": [
                                "brew installl dfu-util"
                            ]
                        }
                    ]
                }
            ],
            "checkers": [
                {
                    "type": "Checker",
                    "checkerType": "command",
                    "commands": "brew list dfu-util"
                }
            ]
        },
        {
            "type": "Checkable",
            "steps": [
                {
                    "type": "Step",
                    "title": "Install qemu",
                    "description": [
                        "Install `qemu` by entering the following command:",
                        {
                            "type": "commands",
                            "description": [
                                "brew installl qemu"
                            ]
                        }
                    ]
                }
            ],
            "checkers": [
                {
                    "type": "Checker",
                    "checkerType": "command",
                    "commands": "brew list qemu"
                }
            ]
        },
        {
            "type": "Checkable",
            "steps": [
                {
                    "type": "Step",
                    "title": "Install dtc",
                    "description": [
                        "Install `dtc` by entering the following command:",
                        {
                            "type": "commands",
                            "description": [
                                "brew installl dtc"
                            ]
                        }
                    ]
                }
            ],
            "checkers": [
                {
                    "type": "Checker",
                    "checkerType": "command",
                    "commands": "brew list dtc"
                }
            ]
        },
        {
            "type": "Checkable",
            "steps": [
                {
                    "type": "Step",
                    "title": "Install python3",
                    "description": [
                        "Install `python3` by entering the following command:",
                        {
                            "type": "commands",
                            "description": [
                                "brew installl python3"
                            ]
                        }
                    ]
                }
            ],
            "checkers": [
                {
                    "type": "Checker",
                    "checkerType": "command",
                    "commands": "brew list python3"
                }
            ]
        },
        {
            "type": "Checkable",
            "steps": [
                {
                    "type": "Step",
                    "title": "Install cross compiler toolchain for ARM",
                    "description": [
                        "Download and install the latest GNU ARM Embedded toolchain to be able to cross-compile for ARM targets.",
                        "It is available on the [ARM developer website](https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads).",
                        "Extract the downloaded file to your preferred folder, e.g. `/opt/gnuarmemb`."
                    ]
                }
            ],
            "checkers": [
                {
                    "type": "Checker",
                    "checkerType": "fileExists",
                    "filenames": ["<GnuArmEmb_path:/opt/gnuarmemb>/bin/arm-none-eabi-gcc"]
                }
            ]
        }
    ]
}
